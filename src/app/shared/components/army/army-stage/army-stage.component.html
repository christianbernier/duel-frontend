<div class="army-stage--container">
  <div
    *ngFor="let portion of ARMY_STAGE_PORTIONS"
    [ngSwitch]="portion.type"
    class="army-stage--token-container"
  >

    <!-- VICTORY -->
    <div
      *ngSwitchCase="'VICTORY'"
      class="army-stage--token-position army-stage--victory-position-a"
      [ngClass]="{
        'army-stage--occupied': tokenPosition === portion.indices[0],
        'army-stage--victory-position-a': portion.indices[0] === 'A_VICTORY',
        'army-stage--victory-position-b': portion.indices[0] === 'B_VICTORY',
      }"
    >
      <img class="army-omega" src="../../../../../assets/army/omega.png"/>
    </div>

    <!-- POINTS -->
    <div *ngSwitchCase="'POINTS'">
      <div
        *ngFor="let position of portion.indices"
        [ngClass]="{
        'army-stage--occupied': tokenPosition === position,
      }"
        class="army-stage--token-position army-stage--non-victory-position"
      >
      </div>
    </div>
    <div *ngIf="portion.type === 'POINTS'" class="army-stage--points">
      <div *ngIf="shouldShowBrokenCoin(portion)">
        <duel-broken-coin [value]="portion.coinPenalty"></duel-broken-coin>
      </div>
      <div *ngIf="!shouldShowBrokenCoin(portion)">
        <duel-victory-points [number]="portion.victoryPoints"/>
      </div>
    </div>

    <!-- CENTER -->
    <div *ngSwitchCase="'CENTER'">
      <div
        *ngFor="let position of portion.indices"
        [ngClass]="{
        'army-stage--occupied': tokenPosition === position,
      }"
        class="army-stage--token-position army-stage--non-victory-position"
      >
      </div>
    </div>

  </div>
</div>
